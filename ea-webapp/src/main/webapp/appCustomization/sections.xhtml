<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<div xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:icecore="http://www.icefaces.org/icefaces/core"
	xmlns:ace="http://www.icefaces.org/icefaces/components"
	xmlns:ice="http://www.icesoft.com/icefaces/component">
	<ice:dataTable value="#{reportsBean.sections}" var="section"
		resizable="true" width="100%" cellspacing="0" cellpadding="0">
		<ice:column>
			<f:facet name="header">Name</f:facet>
			<ice:panelGroup menuPopup="menuPopup">
				<ice:commandLink styleClass="htmllink" actionListener="#{popupBean.openCopy}">
					#{section.name}
				</ice:commandLink>
			</ice:panelGroup>
			<ice:menuPopup id="menuPopup">
				<ice:menuItem value="Edit" icon="#{resource['images/icons:edit.png']}" actionListener="#{popupBean.openCopy}" />
				<ice:menuItem value="Delete" icon="#{resource['images/icons:delete.png']}" actionListener="#{popupBean.openDelete}" />
			</ice:menuPopup>
		</ice:column>
	</ice:dataTable>

	<br />
	<ice:commandButton value="Add new section" actionListener="#{popupBean.openCopy}" />

	<!-- Delete application dialog -->
	<ice:panelPopup draggable="true"
		visible="#{popupBean.deleteApplication}" autoCentre="true">
		<f:facet name="header"><img src="#{resource['images/icons:delete.png']}" /> Delete section</f:facet>
		<f:facet name="body">
			Do you really want to delete this section?<br />
			<br/>
			<ice:commandButton actionListener="#{popupBean.closeDelete}" value="Yes" />
			<ice:commandButton actionListener="#{popupBean.closeDelete}" value="No, cancel" />
		</f:facet>
	</ice:panelPopup>

	<!-- Edit report form -->
	<ice:panelPopup draggable="true" visible="#{popupBean.copyApplication}" autoCentre="true">
		<f:facet name="header"><img src="#{resource['images/icons:edit.png']}"/> Section parameters</f:facet>
		<f:facet name="body">
			<ice:panelGrid columns="2">
				Name: <ice:inputText />
			</ice:panelGrid>

			<ice:commandButton actionListener="#{popupBean.closeCopy}" value="Ok" />
			<ice:commandButton actionListener="#{popupBean.closeCopy}" value="Cancel" />
		</f:facet>
	</ice:panelPopup>
</div>